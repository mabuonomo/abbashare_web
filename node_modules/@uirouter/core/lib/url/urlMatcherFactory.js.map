{
  "version": 3,
  "file": "urlMatcherFactory.js",
  "sourceRoot": "",
  "sources": [
    "@uirouter/core/url/urlMatcherFactory.ts"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "/**\n * @internalapi\n * @module url\n */ /** for typedoc */\nimport { forEach, extend } from \"../common/common\";\nimport { isObject, isDefined, isFunction, isString } from \"../common/predicates\";\nimport { UrlMatcher } from \"./urlMatcher\";\nimport { Param, DefType } from \"../params/param\";\nimport { ParamTypes } from \"../params/paramTypes\";\nimport { ParamTypeDefinition } from \"../params/interface\";\nimport { Disposable } from \"../interface\";\nimport { ParamType } from \"../params/paramType\";\nimport { ParamFactory, UrlMatcherConfig } from \"./interface\";\n\n/**\n * Factory for [[UrlMatcher]] instances.\n *\n * The factory is available to ng1 services as\n * `$urlMatcherFactory` or ng1 providers as `$urlMatcherFactoryProvider`.\n */\nexport class UrlMatcherFactory implements Disposable, UrlMatcherConfig {\n  /** @hidden */ paramTypes = new ParamTypes();\n  /** @hidden */ _isCaseInsensitive: boolean = false;\n  /** @hidden */ _isStrictMode: boolean = true;\n  /** @hidden */ _defaultSquashPolicy: (boolean|string) = false;\n\n  constructor() {\n    extend(this, { UrlMatcher, Param });\n  }\n\n  /** @inheritdoc */\n  caseInsensitive(value?: boolean): boolean {\n    return this._isCaseInsensitive = isDefined(value) ? value : this._isCaseInsensitive;\n  }\n\n  /** @inheritdoc */\n  strictMode(value?: boolean): boolean {\n    return this._isStrictMode = isDefined(value) ? value : this._isStrictMode;\n  }\n\n  /** @inheritdoc */\n  defaultSquashPolicy(value?: (boolean|string)) {\n    if (isDefined(value) && value !== true && value !== false && !isString(value))\n      throw new Error(`Invalid squash policy: ${value}. Valid policies: false, true, arbitrary-string`);\n    return this._defaultSquashPolicy = isDefined(value) ? value : this._defaultSquashPolicy;\n  }\n\n  /** @hidden */\n  private _getConfig = (config) =>\n      extend({ strict: this._isStrictMode, caseInsensitive: this._isCaseInsensitive }, config);\n\n  /**\n   * Creates a [[UrlMatcher]] for the specified pattern.\n   *\n   * @param pattern  The URL pattern.\n   * @param config  The config object hash.\n   * @returns The UrlMatcher.\n   */\n  compile(pattern: string, config?: { [key: string]: any }) {\n    return new UrlMatcher(pattern, this.paramTypes, this.paramFactory, this._getConfig(config));\n  }\n\n  /**\n   * Returns true if the specified object is a [[UrlMatcher]], or false otherwise.\n   *\n   * @param object  The object to perform the type check against.\n   * @returns `true` if the object matches the `UrlMatcher` interface, by\n   *          implementing all the same methods.\n   */\n  isMatcher(object: any): boolean {\n    // TODO: typeof?\n    if (!isObject(object)) return false;\n    let result = true;\n\n    forEach(UrlMatcher.prototype, (val, name) => {\n      if (isFunction(val)) result = result && (isDefined(object[name]) && isFunction(object[name]));\n    });\n    return result;\n  };\n\n  /**\n   * Creates and registers a custom [[ParamType]] object\n   *\n   * A [[ParamType]] can be used to generate URLs with typed parameters.\n   *\n   * @param name  The type name.\n   * @param definition The type definition. See [[ParamTypeDefinition]] for information on the values accepted.\n   * @param definitionFn A function that is injected before the app runtime starts.\n   *        The result of this function should be a [[ParamTypeDefinition]].\n   *        The result is merged into the existing `definition`.\n   *        See [[ParamType]] for information on the values accepted.\n   *\n   * @returns - if a type was registered: the [[UrlMatcherFactory]]\n   *   - if only the `name` parameter was specified: the currently registered [[ParamType]] object, or undefined\n   *\n   * Note: Register custom types *before using them* in a state definition.\n   *\n   * See [[ParamTypeDefinition]] for examples\n   */\n  type(name: string, definition?: ParamTypeDefinition, definitionFn?: () => ParamTypeDefinition) {\n    let type = this.paramTypes.type(name, definition, definitionFn);\n    return !isDefined(definition) ? type : this;\n  };\n\n  /** @hidden */\n  $get() {\n    this.paramTypes.enqueue = false;\n    this.paramTypes._flushTypeQueue();\n    return this;\n  };\n\n  /** @internalapi Creates a new [[Param]] for a given location (DefType) */\n  paramFactory: ParamFactory = {\n    /** Creates a new [[Param]] from a CONFIG block */\n    fromConfig: (id: string, type: ParamType, config: any) =>\n        new Param(id, type, config, DefType.CONFIG, this),\n\n    /** Creates a new [[Param]] from a url PATH */\n    fromPath: (id: string, type: ParamType, config: any) =>\n        new Param(id, type, config, DefType.PATH, this),\n\n    /** Creates a new [[Param]] from a url SEARCH */\n    fromSearch: (id: string, type: ParamType, config: any) =>\n        new Param(id, type, config, DefType.SEARCH, this),\n  };\n\n  /** @internalapi */\n  dispose() {\n    this.paramTypes.dispose();\n  }\n}\n"
  ]
}