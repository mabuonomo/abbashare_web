{"version":3,"sources":["../src/util/log.ts"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;GAcG;AAEH,+BAA+B;AAE/B,OAAO,EAAE,WAAW,EAAE,MAAM,iBAAiB,CAAC;AAG9C,MAAM,CAAN,IAAY,QAIX;AAJD,WAAY,QAAQ;IAClB,yCAAK,CAAA;IACL,yCAAK,CAAA;IACL,2CAAM,CAAA;AACR,CAAC,EAJW,QAAQ,GAAR,QAAQ,KAAR,QAAQ,QAInB;AAED,IAAI,QAAQ,GAAG,QAAQ,CAAC,KAAK,CAAC;AAE9B,8EAA8E;AAC9E,MAAM;IACJ,MAAM,CAAC,QAAQ,CAAC;AAClB,CAAC;AACD,MAAM,sBAAsB,QAAkB;IAC5C,QAAQ,GAAG,QAAQ,CAAC;AACtB,CAAC;AAED,MAAM,gBAAgB,GAAW,EAAE,GAAW;IAAE,aAAe;SAAf,UAAe,EAAf,qBAAe,EAAf,IAAe;QAAf,4BAAe;;IAC7D,EAAE,CAAC,CAAC,QAAQ,IAAI,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;QAC/B,IAAM,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC;QACtC,IAAM,IAAI,GAAG,GAAG,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;QAClC,OAAO,CAAC,GAAG,OAAX,OAAO,GAAK,gBAAc,WAAW,UAAK,IAAI,UAAK,GAAG,WAAM,GAAK,SAAK,IAAI,GAAE;IAC9E,CAAC;AACH,CAAC;AAED,MAAM,gBAAgB,GAAW;IAAE,aAAe;SAAf,UAAe,EAAf,qBAAe,EAAf,IAAe;QAAf,4BAAe;;IAChD,EAAE,CAAC,CAAC,QAAQ,IAAI,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;QAC/B,IAAM,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC;QACtC,IAAM,IAAI,GAAG,GAAG,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;QAClC,OAAO,CAAC,KAAK,OAAb,OAAO,GAAO,gBAAc,WAAW,UAAK,IAAI,UAAK,GAAK,SAAK,IAAI,GAAE;IACvE,CAAC;AACH,CAAC;AAED;;GAEG;AACH,qBAAqB,GAAU;IAC7B,EAAE,CAAC,CAAC,OAAO,GAAG,KAAK,QAAQ,CAAC,CAAC,CAAC;QAC5B,MAAM,CAAC,GAAG,CAAC;IACb,CAAC;IAAC,IAAI,CAAC,CAAC;QACN,IAAI,CAAC;YACH,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;QAC7B,CAAC;QAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACX,0DAA0D;YAC1D,MAAM,CAAC,GAAG,CAAC;QACb,CAAC;IACH,CAAC;AACH,CAAC","file":"log.js","sourcesContent":["/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* tslint:disable:no-console */\n\nimport { SDK_VERSION } from '../core/version';\nimport { AnyJs } from './misc';\n\nexport enum LogLevel {\n  DEBUG,\n  ERROR,\n  SILENT\n}\n\nlet logLevel = LogLevel.ERROR;\n\n// Helper methods are needed because variables can't be exported as read/write\nexport function getLogLevel(): LogLevel {\n  return logLevel;\n}\nexport function setLogLevel(newLevel: LogLevel): void {\n  logLevel = newLevel;\n}\n\nexport function debug(tag: string, msg: string, ...obj: AnyJs[]): void {\n  if (logLevel <= LogLevel.DEBUG) {\n    const time = new Date().toISOString();\n    const args = obj.map(argToString);\n    console.log(`Firestore (${SDK_VERSION}) ${time} [${tag}]: ${msg}`, ...args);\n  }\n}\n\nexport function error(msg: string, ...obj: AnyJs[]): void {\n  if (logLevel <= LogLevel.ERROR) {\n    const time = new Date().toISOString();\n    const args = obj.map(argToString);\n    console.error(`Firestore (${SDK_VERSION}) ${time}: ${msg}`, ...args);\n  }\n}\n\n/**\n * Converts an additional log parameter to a string representation.\n */\nfunction argToString(obj: AnyJs): string | AnyJs {\n  if (typeof obj === 'string') {\n    return obj;\n  } else {\n    try {\n      return JSON.stringify(obj);\n    } catch (e) {\n      // Converting to JSON failed, just log the object directly\n      return obj;\n    }\n  }\n}\n"]}