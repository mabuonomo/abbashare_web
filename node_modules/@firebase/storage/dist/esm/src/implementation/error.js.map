{"version":3,"sources":["../src/implementation/error.ts"],"names":[],"mappings":"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","file":"error.js","sourcesContent":["/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { configOption } from './constants';\n\nexport class FirebaseStorageError implements Error {\n  private code_: string;\n  private message_: string;\n  private serverResponse_: string | null;\n  private name_: string;\n\n  constructor(code: Code, message: string) {\n    this.code_ = prependCode(code);\n    this.message_ = 'Firebase Storage: ' + message;\n    this.serverResponse_ = null;\n    this.name_ = 'FirebaseError';\n  }\n\n  codeProp(): string {\n    return this.code;\n  }\n\n  codeEquals(code: Code): boolean {\n    return prependCode(code) === this.codeProp();\n  }\n\n  serverResponseProp(): string | null {\n    return this.serverResponse_;\n  }\n\n  setServerResponseProp(serverResponse: string | null) {\n    this.serverResponse_ = serverResponse;\n  }\n\n  get name(): string {\n    return this.name_;\n  }\n\n  get code(): string {\n    return this.code_;\n  }\n\n  get message(): string {\n    return this.message_;\n  }\n\n  get serverResponse(): null | string {\n    return this.serverResponse_;\n  }\n}\n\nexport const errors = {};\n\n/**\n * @enum {string}\n */\nexport type Code = string;\nexport const Code = {\n  // Shared between all platforms\n  UNKNOWN: 'unknown',\n  OBJECT_NOT_FOUND: 'object-not-found',\n  BUCKET_NOT_FOUND: 'bucket-not-found',\n  PROJECT_NOT_FOUND: 'project-not-found',\n  QUOTA_EXCEEDED: 'quota-exceeded',\n  UNAUTHENTICATED: 'unauthenticated',\n  UNAUTHORIZED: 'unauthorized',\n  RETRY_LIMIT_EXCEEDED: 'retry-limit-exceeded',\n  INVALID_CHECKSUM: 'invalid-checksum',\n  CANCELED: 'canceled',\n  // JS specific\n  INVALID_EVENT_NAME: 'invalid-event-name',\n  INVALID_URL: 'invalid-url',\n  INVALID_DEFAULT_BUCKET: 'invalid-default-bucket',\n  NO_DEFAULT_BUCKET: 'no-default-bucket',\n  CANNOT_SLICE_BLOB: 'cannot-slice-blob',\n  SERVER_FILE_WRONG_SIZE: 'server-file-wrong-size',\n  NO_DOWNLOAD_URL: 'no-download-url',\n  INVALID_ARGUMENT: 'invalid-argument',\n  INVALID_ARGUMENT_COUNT: 'invalid-argument-count',\n  APP_DELETED: 'app-deleted',\n  INVALID_ROOT_OPERATION: 'invalid-root-operation',\n  INVALID_FORMAT: 'invalid-format',\n  INTERNAL_ERROR: 'internal-error'\n};\n\nexport function prependCode(code: Code): string {\n  return 'storage/' + code;\n}\n\nexport function unknown(): FirebaseStorageError {\n  let message =\n    'An unknown error occurred, please check the error payload for ' +\n    'server response.';\n  return new FirebaseStorageError(Code.UNKNOWN, message);\n}\n\nexport function objectNotFound(path: string): FirebaseStorageError {\n  return new FirebaseStorageError(\n    Code.OBJECT_NOT_FOUND,\n    \"Object '\" + path + \"' does not exist.\"\n  );\n}\n\nexport function bucketNotFound(bucket: string): FirebaseStorageError {\n  return new FirebaseStorageError(\n    Code.BUCKET_NOT_FOUND,\n    \"Bucket '\" + bucket + \"' does not exist.\"\n  );\n}\n\nexport function projectNotFound(project: string): FirebaseStorageError {\n  return new FirebaseStorageError(\n    Code.PROJECT_NOT_FOUND,\n    \"Project '\" + project + \"' does not exist.\"\n  );\n}\n\nexport function quotaExceeded(bucket: string): FirebaseStorageError {\n  return new FirebaseStorageError(\n    Code.QUOTA_EXCEEDED,\n    \"Quota for bucket '\" +\n      bucket +\n      \"' exceeded, please view quota on \" +\n      'https://firebase.google.com/pricing/.'\n  );\n}\n\nexport function unauthenticated(): FirebaseStorageError {\n  let message =\n    'User is not authenticated, please authenticate using Firebase ' +\n    'Authentication and try again.';\n  return new FirebaseStorageError(Code.UNAUTHENTICATED, message);\n}\n\nexport function unauthorized(path: string): FirebaseStorageError {\n  return new FirebaseStorageError(\n    Code.UNAUTHORIZED,\n    \"User does not have permission to access '\" + path + \"'.\"\n  );\n}\n\nexport function retryLimitExceeded(): FirebaseStorageError {\n  return new FirebaseStorageError(\n    Code.RETRY_LIMIT_EXCEEDED,\n    'Max retry time for operation exceeded, please try again.'\n  );\n}\n\nexport function invalidChecksum(\n  path: string,\n  checksum: string,\n  calculated: string\n): FirebaseStorageError {\n  return new FirebaseStorageError(\n    Code.INVALID_CHECKSUM,\n    \"Uploaded/downloaded object '\" +\n      path +\n      \"' has checksum '\" +\n      checksum +\n      \"' which does not match '\" +\n      calculated +\n      \"'. Please retry the upload/download.\"\n  );\n}\n\nexport function canceled(): FirebaseStorageError {\n  return new FirebaseStorageError(\n    Code.CANCELED,\n    'User canceled the upload/download.'\n  );\n}\n\nexport function invalidEventName(name: string): FirebaseStorageError {\n  return new FirebaseStorageError(\n    Code.INVALID_EVENT_NAME,\n    \"Invalid event name '\" + name + \"'.\"\n  );\n}\n\nexport function invalidUrl(url: string): FirebaseStorageError {\n  return new FirebaseStorageError(\n    Code.INVALID_URL,\n    \"Invalid URL '\" + url + \"'.\"\n  );\n}\n\nexport function invalidDefaultBucket(bucket: string): FirebaseStorageError {\n  return new FirebaseStorageError(\n    Code.INVALID_DEFAULT_BUCKET,\n    \"Invalid default bucket '\" + bucket + \"'.\"\n  );\n}\n\nexport function noDefaultBucket(): FirebaseStorageError {\n  return new FirebaseStorageError(\n    Code.NO_DEFAULT_BUCKET,\n    'No default bucket ' +\n      \"found. Did you set the '\" +\n      configOption +\n      \"' property when initializing the app?\"\n  );\n}\n\nexport function cannotSliceBlob(): FirebaseStorageError {\n  return new FirebaseStorageError(\n    Code.CANNOT_SLICE_BLOB,\n    'Cannot slice blob for upload. Please retry the upload.'\n  );\n}\n\nexport function serverFileWrongSize(): FirebaseStorageError {\n  return new FirebaseStorageError(\n    Code.SERVER_FILE_WRONG_SIZE,\n    'Server recorded incorrect upload file size, please retry the upload.'\n  );\n}\n\nexport function noDownloadURL(): FirebaseStorageError {\n  return new FirebaseStorageError(\n    Code.NO_DOWNLOAD_URL,\n    'The given file does not have any download URLs.'\n  );\n}\n\nexport function invalidArgument(\n  index: number,\n  fnName: string,\n  message: string\n): FirebaseStorageError {\n  return new FirebaseStorageError(\n    Code.INVALID_ARGUMENT,\n    'Invalid argument in `' + fnName + '` at index ' + index + ': ' + message\n  );\n}\n\nexport function invalidArgumentCount(\n  argMin: number,\n  argMax: number,\n  fnName: string,\n  real: number\n): FirebaseStorageError {\n  let countPart;\n  let plural;\n  if (argMin === argMax) {\n    countPart = argMin;\n    plural = argMin === 1 ? 'argument' : 'arguments';\n  } else {\n    countPart = 'between ' + argMin + ' and ' + argMax;\n    plural = 'arguments';\n  }\n  return new FirebaseStorageError(\n    Code.INVALID_ARGUMENT_COUNT,\n    'Invalid argument count in `' +\n      fnName +\n      '`: Expected ' +\n      countPart +\n      ' ' +\n      plural +\n      ', received ' +\n      real +\n      '.'\n  );\n}\n\nexport function appDeleted(): FirebaseStorageError {\n  return new FirebaseStorageError(\n    Code.APP_DELETED,\n    'The Firebase app was deleted.'\n  );\n}\n\n/**\n * @param name The name of the operation that was invalid.\n */\nexport function invalidRootOperation(name: string): FirebaseStorageError {\n  return new FirebaseStorageError(\n    Code.INVALID_ROOT_OPERATION,\n    \"The operation '\" +\n      name +\n      \"' cannot be performed on a root reference, create a non-root \" +\n      \"reference using child, such as .child('file.png').\"\n  );\n}\n\n/**\n * @param format The format that was not valid.\n * @param message A message describing the format violation.\n */\nexport function invalidFormat(\n  format: string,\n  message: string\n): FirebaseStorageError {\n  return new FirebaseStorageError(\n    Code.INVALID_FORMAT,\n    \"String does not match format '\" + format + \"': \" + message\n  );\n}\n\n/**\n * @param message A message describing the internal error.\n */\nexport function internalError(message: string): FirebaseStorageError {\n  throw new FirebaseStorageError(\n    Code.INTERNAL_ERROR,\n    'Internal error: ' + message\n  );\n}\n"]}